<!doctype html>
<html xmlns:ng="http://angularjs.org" ng-app="synapseClient">
<head>
    <title>Synapse</title>
    
    <link rel="stylesheet" href="app.css">
    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.20/angular.min.js"></script>
    <script src="app.js"></script>
</head>

<body>

    <div ng-controller="LoginController" ng-hide="hideLogin" class="login">
        <h3>Login:</h3>
        <form novalidate>
            <label for="user_id">User:</label>
            <input id="user_id" size="50" type="text" auto-focus ng-model="account.user_id" /><br />
            <label for="server">Server:</label>
            <input id="server" size="50" type="text" ng-model="account.server" /><br />
            <label for="room">Room:</label>
            <input id="room" size="50" type="text" ng-model="room" /><br />
            <button ng-click="login()">Login</button>
        </form>
        <br/>
        {{ feedback }}
    </div>

    <div ng-controller="ChatController" ng-hide="hideChat" class="chat">
        <h3>{{ state.room }}</h3>
        
        <div class="message" ng-repeat="msg in messages">
            <!-- XXX: need timestamp support!!! -->
            <div class="sender">&lt;{{msg.user_id}}&gt;</div>
            <div class="body">{{msg.content.body}}</div>
        </div>
        
        {{ state.user_id }} <input id="textInput" size="132" ng-model="textInput" ng-enter="send()" />
        <button ng-click="send()">Send</button>
        <br/>
        {{ feedback }}
    </div>
    
</body>
</html>
